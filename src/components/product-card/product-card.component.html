<div class="group flex flex-col bg-white rounded-2xl shadow-md overflow-hidden transition-shadow duration-300 hover:shadow-xl">
  <div class="relative w-full aspect-[4/5] cursor-pointer overflow-hidden">
    <!-- Media Content -->
    <div class="absolute inset-0">
      @if (isHovering()) {
        <video [src]="product().videoUrl" class="w-full h-full object-cover" autoplay muted loop playsinline>
          Your browser does not support the video tag.
        </video>
      } @else {
        <img [src]="product().imageUrl" [alt]="product().tag" class="w-full h-full object-cover" />
      }
    </div>

    <!-- Overlays -->
    <div class="absolute top-0 left-0 p-4 w-full">
      <div class="flex flex-col items-start gap-2">
        <div 
          class="text-xs font-bold py-1.5 px-3 rounded-full"
          [class]="product().tagClass"
        >
          {{ product().tag }}
        </div>
        <div class="bg-black bg-opacity-50 text-white text-sm py-1.5 px-4 rounded-full backdrop-blur-sm flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
          </svg>
          <span>Video</span>
        </div>
      </div>
    </div>
  </div>

  <div class="p-4 flex flex-col items-center text-center gap-3">
    <h3 class="font-bold text-lg text-slate-800">{{ product().name }}</h3>
    <p class="font-semibold text-slate-600 text-base">{{ product().price | currency:'VND':'symbol-narrow':'1.0-0' }}</p>
    <div class="flex items-center gap-3 mt-1">
      <button 
        (click)="viewDetails.emit(product())"
        class="bg-white border border-slate-700 text-slate-700 hover:bg-slate-100 text-sm font-semibold py-2 px-6 rounded-lg transition-colors">
        Chi tiáº¿t
      </button>
      <a href="#" class="bg-slate-800 text-white hover:bg-slate-900 text-sm font-semibold py-2 px-6 rounded-lg transition-colors">
        Mua Ngay
      </a>
    </div>
  </div>
</div>